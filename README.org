* Asahi Guix

[[https://github.com/r0man/asahi-guix/actions/workflows/test.yml][https://github.com/r0man/asahi-guix/actions/workflows/test.yml/badge.svg]]
[[https://github.com/r0man/asahi-guix/actions/workflows/m1n1.yml][https://github.com/r0man/asahi-guix/actions/workflows/m1n1.yml/badge.svg]]

WIP: Not much is working. ðŸ’£

** Guix Installer

Build the Guix installation image.

#+begin_src sh :results verbatim
  guix time-machine -C asahi/guix/channels.scm -- system image -L . --image-type=efi-raw asahi/guix/installer.scm
#+end_src

Write the installer to the USB stick at =/dev/sda=.

#+begin_src sh :results verbatim
  sudo dd if=/gnu/store/mddmv1mrwln08q3nl5sg7czxd06jws0p-disk-image of=/dev/sda bs=4M status=progress oflag=sync
#+end_src

Status:
- Keyboard works
- Boots Grub and Guile
- Fails to find disks?

** Packages

The Asahi Guix channel provides the following packages.

| Guix             | Asahi           |
|------------------+-----------------|
| asahi-firmware   | n/a             |
| asahi-fwextract  | [[https://github.com/AsahiLinux/PKGBUILDs/tree/main/asahi-fwextract][asahi-fwextract]] |
| asahi-linux      | [[https://github.com/AsahiLinux/PKGBUILDs/tree/main/linux-asahi][linux-asahi]]     |
| asahi-linux-edge | [[https://github.com/AsahiLinux/PKGBUILDs/tree/main/linux-asahi][linux-asahi]]     |
| asahi-m1n1       | [[https://github.com/AsahiLinux/PKGBUILDs/tree/main/m1n1][m1n1]]            |
| asahi-scripts    | [[https://github.com/AsahiLinux/PKGBUILDs/tree/main/asahi-scripts][asahi-scripts]]   |
| lzfse            | [[https://github.com/AsahiLinux/PKGBUILDs/tree/main/lzfse][lzfse]]           |
| mesa-asahi-edge  | [[https://github.com/AsahiLinux/PKGBUILDs/tree/main/mesa-asahi-edge][mesa-asahi-edge]] |
| u-boot-apple-m1  | [[https://github.com/AsahiLinux/PKGBUILDs/tree/main/uboot-asahi][uboot-asahi]]     |
